{"version":3,"file":"static/js/43.24d09167.chunk.js","mappings":"iPACA,EAA4B,4BAA5B,EAAyE,iC,SCgEzE,EA3DiB,SAACA,GAChB,IAAMC,GAAWC,EAAAA,EAAAA,UACXC,GAAcD,EAAAA,EAAAA,UACdE,GAAUC,EAAAA,EAAAA,MAEVC,GAAMC,EAAAA,EAAAA,YAAWC,EAAAA,GAEjBC,EAAsB,yCAAG,WAAOC,GAAK,kFAIQ,OAHjDA,EAAMC,iBACNC,QAAQC,IAAIZ,EAASa,QAAQC,MAAMZ,EAAYW,QAAQC,OACjDC,EAAef,EAASa,QAAQC,MAChCE,EAAkBd,EAAYW,QAAQC,MAAM,EAAD,gBAExBG,MAAM,oHAAqH,CAChJC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBC,MAAOP,EACPQ,SAAUP,EACVQ,mBAAmB,IAErBC,QAAS,CACP,eAAgB,sBAEjB,KAAD,EAVY,OAARC,EAAQ,iBAYKA,EAASC,OAAO,KAAD,GACV,GADlBC,EAAI,OACVjB,QAAQC,IAAIc,EAASG,IAChBH,EAASG,GAAG,CAAD,sBAGR,IAAIC,MAAMF,EAAKG,MAAMC,SAAS,KAAD,GAGnCrB,QAAQC,IAAIgB,EAAKN,OACjBjB,EAAI4B,MAAML,EAAKM,QAAQN,EAAKN,OAC5BnB,EAAQgC,QAAQ,UAAS,0DAI3BxB,QAAQC,IAAI,EAAD,IACXwB,MAAM,EAAD,IAAQ,0DAEhB,gBAnC2B,sCAoC5B,OACE,SAACC,EAAA,EAAS,CAACC,UAAWC,EAAkB,UACtC,UAACC,EAAA,EAAI,CAACC,SAAUjC,EAAwB8B,UAAWC,EAAuB,WACxE,UAACC,EAAA,QAAU,CAACF,UAAU,OAAOI,UAAU,iBAAgB,WACrD,SAACF,EAAA,QAAU,UAAC,WACZ,SAACA,EAAA,UAAY,CAACG,KAAK,QAAQC,IAAK5C,EAAU6C,YAAY,yBAExD,UAACL,EAAA,QAAU,CAACF,UAAU,OAAOI,UAAU,iBAAgB,WACrD,SAACF,EAAA,QAAU,UAAC,cACZ,SAACA,EAAA,UAAY,CAACG,KAAK,WAAWC,IAAK1C,EAAa2C,YAAY,4BAE9D,SAACC,EAAA,EAAM,CAACC,QAAQ,UAAUJ,KAAK,SAAQ,SAAC,cAIhD,C","sources":["webpack://ecom-website/./src/Authentication/AuthPage.module.css?d2c6","Authentication/AuthPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"AuthPage_container__cOeE-\",\"authentication\":\"AuthPage_authentication__OPfKo\"};","import { useContext, useRef, useState } from \"react\";\r\nimport { Button, Container, Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CartContext from \"../components/store/cart-context\";\r\nimport classes from \"./AuthPage.module.css\"\r\n\r\nconst AuthPage = (props) => {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const history = useHistory();\r\n  // const [loading,setIsLoading] = useState(false);\r\n  const ctx = useContext(CartContext)\r\n\r\n  const loginFormSubmitHandler = async (event) => {\r\n    event.preventDefault()\r\n    console.log(emailRef.current.value,passwordRef.current.value)\r\n    const enteredEmail = emailRef.current.value;\r\n    const enteredPassword = passwordRef.current.value;\r\n    try {\r\n      const response = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyA2RroineHJOuXSx4UjaorLmlxt6T9yyuQ\", { \r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: enteredEmail,\r\n          password: enteredPassword,\r\n          returnSecureToken: true,\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      // setIsLoading(false);\r\n      const data = await response.json();\r\n      console.log(response.ok)\r\n      if (!response.ok) {\r\n        // console.log(response.json());\r\n        // return response;\r\n        throw new Error(data.error.message);\r\n      }\r\n      else{\r\n        console.log(data.email)\r\n        ctx.login(data.idToken,data.email);\r\n        history.replace('/store')\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(error);\r\n    }\r\n  }\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Form onSubmit={loginFormSubmitHandler} className={classes.authentication}>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\" >\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control type=\"email\" ref={emailRef} placeholder=\"Enter Your Email\" />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\" >\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control type=\"password\" ref={passwordRef} placeholder=\"Enter Your Password\" />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\">Login</Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\nexport default AuthPage;\r\n"],"names":["props","emailRef","useRef","passwordRef","history","useHistory","ctx","useContext","CartContext","loginFormSubmitHandler","event","preventDefault","console","log","current","value","enteredEmail","enteredPassword","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","response","json","data","ok","Error","error","message","login","idToken","replace","alert","Container","className","classes","Form","onSubmit","controlId","type","ref","placeholder","Button","variant"],"sourceRoot":""}